<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Langchecker - Documentation for Mozilla l10n Drivers</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../../products/android-l10n/index.html"><strong aria-hidden="true">2.</strong> Android-l10n</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../products/android-l10n/adding_new_locales.html"><strong aria-hidden="true">2.1.</strong> Adding new locales</a></li></ol></li><li class="chapter-item expanded "><a href="../../products/firefox_desktop/index.html"><strong aria-hidden="true">3.</strong> Firefox Desktop</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../products/firefox_desktop/adding_pontoon.html"><strong aria-hidden="true">3.1.</strong> Add to Pontoon</a></li><li class="chapter-item expanded "><a href="../../products/firefox_desktop/adding_nightly.html"><strong aria-hidden="true">3.2.</strong> Nightly builds</a></li><li class="chapter-item expanded "><a href="../../products/firefox_desktop/adding_release.html"><strong aria-hidden="true">3.3.</strong> Beta/Release builds</a></li><li class="chapter-item expanded "><a href="../../products/firefox_desktop/removing_locales.html"><strong aria-hidden="true">3.4.</strong> Removing locales</a></li><li class="chapter-item expanded "><a href="../../products/firefox_desktop/fluent_migrations.html"><strong aria-hidden="true">3.5.</strong> Fluent migrations</a></li><li class="chapter-item expanded "><a href="../../products/firefox_desktop/firefox_l10n_faqs.html"><strong aria-hidden="true">3.6.</strong> L10N FAQs</a></li></ol></li><li class="chapter-item expanded "><a href="../../products/review/index.html"><strong aria-hidden="true">4.</strong> Review</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../products/review/signoffs.html"><strong aria-hidden="true">4.1.</strong> Sign-offs</a></li><li class="chapter-item expanded "><a href="../../products/review/review.html"><strong aria-hidden="true">4.2.</strong> Review strings</a></li></ol></li><li class="chapter-item expanded "><a href="../../products/firefox_iOS/index.html"><strong aria-hidden="true">5.</strong> Firefox for iOS</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../products/firefox_iOS/review_iOSstrings.html"><strong aria-hidden="true">5.1.</strong> Reviewing new strings</a></li></ol></li><li class="chapter-item expanded "><a href="../../products/mozilla_org/index.html"><strong aria-hidden="true">6.</strong> Mozilla.org</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../products/mozilla_org/extract_strings.html"><strong aria-hidden="true">6.1.</strong> Process overview</a></li><li class="chapter-item expanded "><a href="../../products/mozilla_org/working_bedrock.html"><strong aria-hidden="true">6.2.</strong> Working with Bedrock</a></li><li class="chapter-item expanded "><a href="../../tools/webdashboards/import_translations.html"><strong aria-hidden="true">6.3.</strong> Importing translations</a></li><li class="chapter-item expanded "><a href="../../products/mozilla_org/updating_mozillaorg_production.html"><strong aria-hidden="true">6.4.</strong> Updating production</a></li><li class="chapter-item expanded "><a href="../../products/mozilla_org/enable_production.html"><strong aria-hidden="true">6.5.</strong> New locales</a></li></ol></li><li class="chapter-item expanded "><a href="../../products/other/index.html"><strong aria-hidden="true">7.</strong> Other Projects</a></li><li class="chapter-item expanded "><a href="../../products/searchplugins/setup_searchplugins.html"><strong aria-hidden="true">8.</strong> Searchplugins</a></li><li class="chapter-item expanded "><a href="../../tools/pontoon/index.html"><strong aria-hidden="true">9.</strong> Pontoon</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../tools/pontoon/adding_new_project.html"><strong aria-hidden="true">9.1.</strong> New project</a></li><li class="chapter-item expanded "><a href="../../tools/pontoon/adding_new_short_term_project.html"><strong aria-hidden="true">9.2.</strong> New short-term project</a></li><li class="chapter-item expanded "><a href="../../tools/pontoon/adding_new_locale.html"><strong aria-hidden="true">9.3.</strong> New locale</a></li><li class="chapter-item expanded "><a href="../../tools/pontoon/sending_notifications.html"><strong aria-hidden="true">9.4.</strong> Notifications</a></li><li class="chapter-item expanded "><a href="../../tools/pontoon/renaming_a_file.html"><strong aria-hidden="true">9.5.</strong> Renaming a localization file</a></li><li class="chapter-item expanded "><a href="../../tools/pontoon/deactivating_users.html"><strong aria-hidden="true">9.6.</strong> Deactivating users</a></li></ol></li><li class="chapter-item expanded "><a href="../../tools/webdashboards/index.html"><strong aria-hidden="true">10.</strong> Web dashboards</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../tools/webdashboards/langchecker.html" class="active"><strong aria-hidden="true">10.1.</strong> Langchecker</a></li><li class="chapter-item expanded "><a href="../../tools/webdashboards/bootstrap_new_locale.html"><strong aria-hidden="true">10.2.</strong> Bootstrap a new locale</a></li><li class="chapter-item expanded "><a href="../../tools/webdashboards/add_locales.html"><strong aria-hidden="true">10.3.</strong> Add locales to an existing file</a></li><li class="chapter-item expanded "><a href="../../tools/webdashboards/update_existing_file.html"><strong aria-hidden="true">10.4.</strong> Update an existing file</a></li><li class="chapter-item expanded "><a href="../../tools/webdashboards/remove_obsolete_files.html"><strong aria-hidden="true">10.5.</strong> Remove obsolete files</a></li><li class="chapter-item expanded "><a href="../../tools/webdashboards/add_new_file.html"><strong aria-hidden="true">10.6.</strong> Add a new file to an existing project</a></li></ol></li><li class="chapter-item expanded "><a href="../../tools/mercurial/index.html"><strong aria-hidden="true">11.</strong> Mercurial</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../tools/mercurial/setting_mercurial_environment.html"><strong aria-hidden="true">11.1.</strong> Set up the environment</a></li><li class="chapter-item expanded "><a href="../../tools/mercurial/creating_mercurial_patch.html"><strong aria-hidden="true">11.2.</strong> Create a patch</a></li><li class="chapter-item expanded "><a href="../../tools/mercurial/useful_mercurial_commands.html"><strong aria-hidden="true">11.3.</strong> Useful Mercurial commands</a></li></ol></li><li class="chapter-item expanded "><a href="../../misc/index.html"><strong aria-hidden="true">12.</strong> Other docs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../misc/creating_new_repository.html"><strong aria-hidden="true">12.1.</strong> New l10n repository</a></li><li class="chapter-item expanded "><a href="../../misc/working_w_l10n_agency.html"><strong aria-hidden="true">12.2.</strong> How to work with a Localization Agency</a></li><li class="chapter-item expanded "><a href="../../misc/documentation_styleguide.html"><strong aria-hidden="true">12.3.</strong> Documentation styleguide</a></li><li class="chapter-item expanded "><a href="../../misc/stock_emails.html"><strong aria-hidden="true">12.4.</strong> Stock emails</a></li><li class="chapter-item expanded "><a href="../../config/setup_l10ndrivers_vm.html"><strong aria-hidden="true">12.5.</strong> L10n-drivers VM setup</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Documentation for Mozilla l10n Drivers</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#langchecker" id="langchecker">Langchecker</a></h1>
<p>Langchecker is the main repository to update when adding or updating files. There are four different configuration files:</p>
<ul>
<li><a href="https://github.com/mozilla-l10n/langchecker/blob/master/app/config/locales.inc.php">app/config/locales.inc.php</a>: it contains several lists of locales, like locales supported in mozilla.org, locales only working in Fennec, etc. These lists are then used in the main configuration file to determine which locales are supported for each file. Normally you would need to update this file only when bootstrapping new languages.</li>
<li><a href="https://github.com/mozilla-l10n/langchecker/blob/master/app/config/websites.inc.php">app/config/websites.inc.php</a>: it contains the configuration for websites (projects) supported in Langchecker.</li>
<li><a href="https://github.com/mozilla-l10n/langchecker/blob/master/app/config/sources.inc.php">app/config/sources.inc.php</a>: it contains the configuration for all files supported in Langchecker.</li>
</ul>
<p>Langchecker also includes several command line scripts to manage day-to-day operations on supported repositories. For example:</p>
<ul>
<li><a href="https://github.com/mozilla-l10n/langchecker/blob/master/app/scripts/lang_update">app/scripts/lang_update</a>: reads the original en-US file, adds missing strings to requested files, reformat localized .lang files. It can also be used to import existing translations from another .lang file.</li>
<li><a href="https://github.com/mozilla-l10n/langchecker/blob/master/app/scripts/mark_active">app/scripts/mark_active</a>: mark complete files (all strings translated, no errors) as active.</li>
<li><a href="https://github.com/mozilla-l10n/langchecker/blob/master/app/scripts/add_tags">app/scripts/add_tags</a>: add l10n tags to a file. Some strings in a file can be bound to a tag, allowing to display them in production for mozilla.org only when they’re localized. This script examines if all the strings associated to a specific tag are localized, and adds tags to localized files.</li>
</ul>
<p><a href="https://github.com/mozilla-l10n/langchecker/wiki">Langchecker's wiki</a> has a full list of the available views, API calls, and command line scripts.</p>
<h2><a class="header" href="#sources-structure" id="sources-structure">Sources Structure</a></h2>
<p>Each project is internally called website, and it’s identified by a numeric index. These are the projects currently supported.</p>
<table><thead><tr><th>ID</th><th>Codename</th><th>Description</th></tr></thead><tbody>
<tr><td>0</td><td>www.mozilla.org</td><td>Used to track all files for www.mozilla.org</td></tr>
<tr><td>6</td><td>engagement</td><td>Used for Engagement material, typically snippets.</td></tr>
</tbody></table>
<p>Let’s consider a simple project like Engagement. This is how its definition looks like in the main <code>$sites</code> variable.</p>
<pre><code class="language-PHP">6 =&gt; [
    'engagement',
    $repositories['engagement']['local_path'],
    '',
    $engagement_locales,
    $engagement_lang,
    'en-US', // source locale
    $repositories['engagement']['public_path'],
    1,
    'lang',
    'engagement',
    ['tags'],
],
</code></pre>
<p>The structure of each item is:</p>
<ol>
<li>Name (used when displaying the website).</li>
<li>Path to local repository.</li>
<li>Folder containing locale files.</li>
<li>Array of supported locale.</li>
<li>Array of supported files with all associated data.</li>
<li>Reference locale code.</li>
<li>URL to public repo (used to create links to files).</li>
<li>Default priority, used as fallback when files don't specify one.</li>
<li>Type of files (<code>lang</code>, <code>raw</code>).</li>
<li>Project name on Pontoon (used for edit links).</li>
<li>Array of excluded error checks (<code>tags</code>).</li>
</ol>
<p>For each website there is a list of supported locales, but each file might only use a subset of this list.</p>
<p>For this project, the list of supported files is stored in <code>$engagement_lang</code>.</p>
<pre><code class="language-PHP">$engagement_lang = [
    'ads/ios_android_apr2016.lang' =&gt; [
        'supported_locales' =&gt; ['de', 'es-ES', 'fr', 'pl'],
    ],
    'ads/ios_android_feb2017.lang' =&gt; [
        'deadline'          =&gt; '2017-02-02',
        'supported_locales' =&gt; ['zh-HK', 'zh-TW'],
    ],
    ...
</code></pre>
<p>Flags commonly used are:</p>
<ul>
<li><strong>obsolete</strong>: this field was used to hide specific elements from the Webdashboard, typically files that needed to remain in the repository and would be removed later.</li>
<li><strong>opt-in</strong>: the file was requested only for some locales, but others can decide to <em>opt-in</em> and request the page for translation through Bugzilla.</li>
</ul>
<p>For more details on the structure of this file, check the [add_new_file.md](documentation to track new files).</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../../tools/webdashboards/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../../tools/webdashboards/bootstrap_new_locale.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../../tools/webdashboards/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../../tools/webdashboards/bootstrap_new_locale.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
